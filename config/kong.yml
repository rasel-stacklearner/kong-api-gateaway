# Mode about cors => https://docs.konghq.com/hub/kong-inc/cors/3.2.x/how-to/basic-example/

_format_version: "3.0"

services:
  - name: echo-server
    host: host.docker.internal
    port: 4000
    path: /echo
    routes:
      - name: localhost_echo_route
        paths:
        - /echo_server
        - /echo_server2
  - name: remote_server
    host: host.docker.internal
    port: 4000
    path: /remote
    routes:
     - name: localhost_remote_routee
       paths:
        - /remote_server
        - /remote_server2 


# plugins
plugins:
- name: cors
  service: echo-server
  config:
    origins:
    - https://mockbin.com
    - https://www.githubstatus.com
    - https://www.prothomalo.com
    - http://localhost:4000
    methods:
    - GET
    - POST
    headers:
    - Accept
    - Accept-Version
    - Content-Length
    - Content-MD5
    - Content-Type
    - Date
    - X-Auth-Token
    exposed_headers:
    - X-Auth-Token
    credentials: true
    max_age: 3600

